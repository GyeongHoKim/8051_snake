COLGREEN	EQU	0FFC5H
COLRED		EQU	0FFC6H
ROW		EQU	0FFC7H

	ORG	8000H
	;R1 IS GREEN, R2 IS RED, R0 IS ROW
	;TURN OFF EVERY LED
	MOV	R1, #00H
	MOV	R2, #00H
	MOV	R0, #00H

	CALL	DOTCOLG
	CALL	DOTCOLR
	CALL	DELAY

INIT:	MOV	R2, #00000000B
	MOV	R0, #00000000B
	CALL	DOTCOLR

	MOV	R1, #00000001B
	MOV	R0, #00000001B
	CLR	C

DROW:	CALL	DOTCOLG
	CALL	DELAY
	
	;MOVE ROW TO NEXT
	MOV	A, R0
	RLC	A
	MOV	R0, A
	
	;CHANGE COL IF EXCEED BOUNDARY
	JC	DCOL
	JMP	DROW

DCOL:	MOV	R0, #00000001B
	CLR	C
	MOV	A, R1
	RLC	A
	MOV	R1, A
	;RETURN TO ORIGIN IF EXCEED BOUNDARY
	JC	INIT
	JMP	DROW

DOTCOLG:
	MOV	DPTR, #COLGREEN
	MOV	A, R1
	MOVX	@DPTR, A

	MOV	DPTR, #ROW
	MOV	A, R0
	MOVX	@DPTR, A
	RET

DOTCOLR:
	MOV	DPTR, #COLRED
	MOV	A, R2
	MOVX	@DPTR, A

	MOV	DPTR, #ROW
	MOV	A, R0
	MOVX	@DPTR, A
	RET

DELAY:	MOV	R7, #02H
DELAY1:	MOV	R6, #0FFH
DELAY2:	MOV	R5, #0FFH
DELAY3:	DJNZ	R5, DELAY3
	DJNZ	R6, DELAY2
	DJNZ	R7, DELAY1
	RET
END